(window.webpackJsonp=window.webpackJsonp||[]).push([["main"],{"2YZa":function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),c=n("i8i4"),i=n.n(c),o=n("55Ip"),l=n("Ty5D"),u=n("V/vL"),s=n("yXPU"),f=n.n(s),d=n("o0o1"),p=n.n(d),m=n("/MKj"),h=n("J4zp"),g=n.n(h),v=(n("oVuX"),n("i7Pf")),b=(n("tkto"),n("pNMO"),n("TeQF"),n("5DmW"),n("FZtP"),n("27RR"),n("lSNA")),y=n.n(b),E=n("L1i9");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var j,k=function(e){return"/api/v2/article".concat(e)};function w(e,t){return Object(E.a)(k(e),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t))}function x(e){return Object(E.a)(k("/link".concat(e)),{})}function L(e,t){e.addCase(t.pending,(function(e){e.loading=j.Loading})),e.addCase(t.rejected,(function(e){e.loading=j.Error}))}!function(e){e.Initial="Initail",e.Loading="Loading",e.Ok="Ok",e.Error="Error"}(j||(j={}));var N=function(e){return t=new Date(e).toISOString(),n=5,t.substring(0,t.length-n)+"Z";var t,n},P="aboutPage",_=Object(v.b)([P,"fetchData"].join("\n"),f()(p.a.mark((function e(){var t,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("/about");case 2:return t=e.sent,n=g()(t,1),(a=n[0]).createTime=N(a.createTime),a.modifyTime=N(a.modifyTime),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})))),S=Object(v.c)({name:P,initialState:{about:{title:"",content:"",createTime:"",modifyTime:""},loading:j.Initial},reducers:{setLoading:function(e,t){var n=t.payload;e.loading=n||j.Initial}},extraReducers:function(e){L(e,_),e.addCase(_.fulfilled,(function(e,t){var n=t.payload;e.about=n,e.loading=j.Ok}))}}),I=S.reducer,T=function(e){return e.aboutPage.about},D=function(e){return e.aboutPage.loading},C=S.actions.setLoading,R=n("u7Y8"),A=n.n(R);function B(){return r.a.createElement("div",{className:"ease-in-expo-animation",style:{padding:"10px 0"}},r.a.createElement("h1",null,"Oops..."),r.a.createElement("h1",null,"Try again, it maybe works"))}var q=function(e){var t=e.loading,n=e.children,a=e.fallback;return t===j.Initial?r.a.createElement(r.a.Fragment,null):t===j.Error?a?r.a.createElement("div",{className:"ease-in-expo-animation"},a):r.a.createElement(B,null):t===j.Loading?r.a.createElement("div",{className:"ease-in-expo-animation",style:{textAlign:"center",padding:"50px 0"}},r.a.createElement(A.a,{color:"var(--color-accent)"})):r.a.createElement("div",{className:"ease-in-expo-animation"},n)},M=(n("07d7"),n("JfAA"),n("6x+I")),Y=n.n(M),F=(n("+2oP"),n("sMBO"),n("pjDv"),n("PKPk"),n("4Brf"),n("0oug"),n("4mDm"),n("3bBZ"),n("rB9j"),n("UxlC"),n("oSia")),J=n("u0PD"),U=n.n(J),Z=n("1K8B"),H=n.n(Z),K=n("tnne"),W=n.n(K),z=n("DPa0"),V=n.n(z),G=n("fnZc"),Q=n.n(G),X=n("EGRD"),$=n.n(X),ee=n("RoP8"),te=n.n(ee),ne=n("0Wr9"),ae=n.n(ne),re=n("rDFf"),ce=n.n(re),ie=n("p+MO"),oe=n.n(ie),le=n("cJKJ"),ue=n.n(le),se=n("piw0"),fe=n.n(se),de=n("cbKp"),pe=n.n(de),me=n("22HQ"),he=n.n(me),ge=n("aUvw"),ve=n.n(ge),be=n("Qg97"),ye=n.n(be);F.a.registerLanguage("jsx",H.a),F.a.registerLanguage("julia",W.a),F.a.registerLanguage("java",V.a),F.a.registerLanguage("kotlin",Q.a),F.a.registerLanguage("csharp",$.a),F.a.registerLanguage("bash",te.a),F.a.registerLanguage("rust",ae.a),F.a.registerLanguage("cpp",ce.a),F.a.registerLanguage("makefile",oe.a),F.a.registerLanguage("dockerfile",ue.a),F.a.registerLanguage("py",fe.a),F.a.registerLanguage("go",pe.a),F.a.registerLanguage("ini",he.a),F.a.registerLanguage("nginx",ve.a),F.a.registerLanguage("json",ye.a);var Ee=n("8c1N"),Oe=n.n(Ee);function je(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ke(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){o=!0,c=e},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw c}}}}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function we(e){var t=Object(a.useRef)(null),n=Object(a.useState)(!1),c=g()(n,2),i=c[0],o=c[1],l=e.inline,u=e.className,s=u?/language-(\w+)/.exec(u):null;if(l||!s){var f=[u,"cc-article-content__inline-code"].filter((function(e){return!!e})).join(" ");return r.a.createElement("code",{className:f},e.children)}var d,p=[],m=je(e.children);try{for(m.s();!(d=m.n()).done;){var h=d.value;"string"==typeof h?p.push(h.replace(/\n$/,"")):p.push(h)}}catch(e){m.e(e)}finally{m.f()}var v=s[1];return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("button",{ref:t,className:"button-copy",onClick:function(){var e;null===(e=t.current)||void 0===e||e.blur(),Oe()(p.join("\n")).then((function(){o(!0)}))}},"Copy"),i&&r.a.createElement("span",{className:"copy-tips ease-in-expo-animation",onAnimationEnd:function(){return o(!1)}},"Copied!"),r.a.createElement(F.a,{language:v,style:U.a,showLineNumbers:!1,startingLineNumber:1},p))}function xe(e){return r.a.createElement("figure",{className:"cc-figure"},r.a.createElement("img",{src:e.src,alt:e.caption}),e.caption&&r.a.createElement("figcaption",null,e.caption))}function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(){function e(e){return function(t){var n,a=t.children,c=null===(n=a[0])||void 0===n?void 0:n.toString();return function(e,t,n){var a=r.a.createElement("a",{href:"#".concat(t),style:{marginRight:"5px",color:"var(--color-accent)"}},"Î”");switch(e){case"h1":return r.a.createElement("h1",{id:t},a,n);case"h2":return r.a.createElement("h2",{id:t},a,n);case"h3":return r.a.createElement("h3",{id:t},a,n);case"h4":return r.a.createElement("h4",{id:t},a,n);case"h5":return r.a.createElement("h5",{id:t},a,n);case"h6":return r.a.createElement("h6",{id:t},a,n);default:return e}}(e,c,a)}}return{h1:e("h1"),h2:e("h2"),h3:e("h3"),h4:e("h4"),h5:e("h5"),h6:e("h6")}}function _e(e){return r.a.createElement(Y.a,{components:Ne(Ne({code:function(e){return r.a.createElement(we,{inline:e.inline,className:e.className},e.children)},a:function(e){var t=e.children.join(""),n=e.href;return r.a.createElement("a",{className:"cc-article-content__link",href:n,rel:"noopener"},t)}},Pe()),{},{img:function(e){var t=e.src,n=e.alt;return r.a.createElement(xe,{src:t,caption:n})},p:function(e){return r.a.createElement("div",{className:"cc-article-content__section"},e.children)},ul:function(e){return r.a.createElement("ul",{className:"cc-article-content__list"},e.children)},ol:function(e){return r.a.createElement("ol",{className:"cc-article-content__list"},e.children)}}),skipHtml:!1},e.markdown)}var Se="license",Ie=Object(v.c)({name:Se,initialState:{licenseLink:""},reducers:{setLicenseLink:function(e,t){var n=t.payload;e.licenseLink=n}}}),Te=function(e){return e.license.licenseLink},De=Ie.actions.setLicenseLink,Ce=Ie.reducer;function Re(){var e=Object(m.c)(),t=Object(m.b)(Te);return Object(a.useEffect)((function(){var n=window.location.pathname,a="https://www.callcc.dev".concat(n);a!==t&&e.dispatch(De(a))}),[e,t]),r.a.createElement("blockquote",null,r.a.createElement("p",null,r.a.createElement("strong",null,"This post is under a"," ",r.a.createElement("a",{className:"cc-license__link",href:"https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh",target:"_"},"CC BY-NC-SA 4.0 Unported License")),r.a.createElement("span",{style:{height:"5px",display:"block"}}),r.a.createElement("strong",null,"Link to this article (",r.a.createElement("a",{className:"cc-license__link",href:t,target:"_"},t),")")))}n("2B1R"),n("ma9I");var Ae=n("LLHA"),Be=n.n(Ae);function qe(e){var t=e.node,n=e.order;return r.a.createElement("li",null,r.a.createElement("a",{href:"#".concat(t.text),className:"article__title__content-index__list-item"},r.a.createElement("span",{style:{fontWeight:"bolder"}},n," "),t.text),r.a.createElement("ul",{className:"article__title__content-index__list"},t.children.map((function(e,t){return r.a.createElement(qe,{key:"".concat(e.text,"_").concat(t),node:e,order:"".concat(n).concat(t+1,".")})}))))}function Me(e){var t=e.title,n=e.markdown,c=Object(a.useMemo)((function(){return function(e){var t=e.children.filter((function(e){return"heading"===e.type&&e.children.length&&"text"===e.children[0].type})).map((function(e){var t,n;return{text:(null===(t=e.children)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.value)||"",depth:e.depth,children:[]}})),n={children:[],depth:-1,text:""},a=[n];t.length&&n.children.push(t[0]);for(var r=1;r<t.length;r++){var c=t[r],i=t[r-1];if(c.depth===i.depth)a[0].children.push(c);else if(c.depth>i.depth){var o=i;o.children.push(c),a.unshift(o)}else{for(;a.length&&a[0].depth>=c.depth;)a.shift();a.length&&a[0].children.push(c)}}return n.children}(Be()(n))}),[n]),i=Object(a.useState)(!1),o=g()(i,2),l=o[0],u=o[1];return Object(a.useLayoutEffect)((function(){var e=function(e){var t=document.getElementById("indexBar");t&&(e.target!==t?u(!1):u((function(e){return!e})))};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}),[]),r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("h1",null,r.a.createElement("span",{id:"indexBar",className:"article__title__prefix "},"â‰¡"),r.a.createElement("a",{href:"#"},t)),c.length>0&&r.a.createElement("div",{className:"article__title__content-index",style:{display:l?"initial":"none"}},r.a.createElement("ul",{className:"article__title__content-index__list",style:{paddingLeft:0}},c.map((function(e,t){return r.a.createElement(qe,{key:"".concat(e.text,"_").concat(t),node:e,order:"".concat(t+1,".")})})))))}function Ye(e){var t=e.title,n=e.createTime,c=e.modifyTime,i=e.content,o=e.withLicense;return Object(a.useMemo)((function(){return r.a.createElement("article",{className:"cc-article-container"},r.a.createElement("header",null,r.a.createElement(Me,{title:t,markdown:i}),r.a.createElement("span",null,"CT: ",n," - LMT: ",c)),r.a.createElement("hr",null),r.a.createElement("section",{className:"cc-article-content"},r.a.createElement(_e,{markdown:i})),o&&r.a.createElement("footer",null,r.a.createElement(Re,null)))}),[t,n,c,i,o])}function Fe(e){return Je.apply(this,arguments)}function Je(){return(Je=f()(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.dispatch(_()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n("4l63");var Ue="archivePage",Ze=Object(v.b)([Ue,"fetchArchive"].join("\n"),f()(p.a.mark((function e(){var t,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)(k("/archive"),{});case 2:return t=e.sent,n=g()(t,1),a=n[0],e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))),He=Object(v.c)({name:Ue,initialState:{items:[],loading:j.Initial},reducers:{setLoading:function(e,t){var n=t.payload;e.loading=n||j.Initial}},extraReducers:function(e){L(e,Ze),e.addCase(Ze.fulfilled,(function(e,t){var n=t.payload;e.items=n,e.loading=j.Ok}))}}),Ke=function(e){return e.archivePage.items},We=He.reducer,ze=function(e){return e.archivePage.loading},Ve=He.actions.setLoading;function Ge(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=f()(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.dispatch(Ze()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n("mRH6");function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){y()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var et="articlePage",tt=Object(v.b)([et,"fetchSingleArticle"].join("\n"),function(){var e=f()(p.a.mark((function e(t,n){var a,r,c,i,o,l,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.getState,r=n.rejectWithValue,c=a(),!(i=c[et].cache)[t.link]){e.next=4;break}return e.abrupt("return",{article:i[t.link],link:t.link,cached:!0});case 4:return e.prev=4,e.next=7,x(t.link);case 7:return o=e.sent,l=g()(o,1),(u=l[0]).createTime=N(u.createTime),u.modifyTime=N(u.modifyTime),e.abrupt("return",{article:u,link:t.link,cached:!1});case 15:return e.prev=15,e.t0=e.catch(4),e.abrupt("return",r({link:t.link}));case 18:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t,n){return e.apply(this,arguments)}}()),nt=Object(v.c)({name:et,initialState:{article:{title:"",content:"",createTime:"",modifyTime:"",link:""},cache:{},loading:j.Initial},reducers:{setLoading:function(e,t){var n=t.payload;e.loading=n||j.Initial}},extraReducers:function(e){e.addCase(tt.pending,(function(e){e.loading=j.Loading})),e.addCase(tt.rejected,(function(e,t){var n=t.payload.link;e.article.link=n,e.loading=j.Error})),e.addCase(tt.fulfilled,(function(e,t){var n=t.payload;e.article=$e($e({},n.article),{},{link:n.link}),n.cached||(e.cache[n.link]=n.article),e.loading=j.Ok}))}}),at=nt.reducer,rt=function(e){return e.articlePage.article},ct=function(e){return e.articlePage.loading},it=nt.actions.setLoading;function ot(e,t){return lt.apply(this,arguments)}function lt(){return(lt=f()(p.a.mark((function e(t,n){var a,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=n.link||(null===(a=n.req)||void 0===a?void 0:a.path))){e.next=3;break}return e.abrupt("return",t.dispatch(tt({link:r})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ut="categorySlice",st=Object(v.b)([ut,"fetchCategories"].join("\n"),f()(p.a.mark((function e(){var t,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)("/api/v2/category".concat("/all"),{});case 2:return t=e.sent,n=g()(t,1),a=n[0],e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))),ft=Object(v.c)({name:ut,initialState:{cates:[],loading:j.Initial},reducers:{setLoading:function(e,t){var n=t.payload;e.loading=n||j.Initial}},extraReducers:function(e){L(e,st),e.addCase(st.fulfilled,(function(e,t){var n=t.payload;(n.length||e.cates.length)&&(e.cates=n),e.loading=j.Ok}))}}),dt=function(e){return e.categorySlice.cates},pt=function(e){return e.categorySlice.loading},mt=ft.reducer,ht=ft.actions.setLoading,gt=function(e){return r.a.createElement("div",e,e.children,r.a.createElement("div",{className:"cc-underscope"}))};function vt(e){return bt.apply(this,arguments)}function bt(){return(bt=f()(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.dispatch(st()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(e){var t=e.categoryName;return r.a.createElement(gt,{className:"cc-tag"},r.a.createElement(o.b,{to:{pathname:"/category/"+t.replace("/","_")}},t))}var Et=n("pVnL"),Ot=n.n(Et);n("LKBx"),n("Rm1S"),n("EnZy");function jt(e){return r.a.createElement("div",{className:"cc-article-card"},r.a.createElement("h2",{className:"cc-article-card__title"},r.a.createElement(o.b,{to:{pathname:"/"+e.link,state:e}},e.title)),r.a.createElement("p",null,e.description))}n("5s+n");function kt(e){var t=e.substring(0,100).replace(/#+ /,"").replace(/`+/,""),n=t.match(/[\u4e00-\u9fa5\s\S]*/gi);return null!=n&&(t=n[0]),t}var wt="filterPage",xt=Object(v.b)([wt,"fetchFilterArticle"].join("\n"),function(){var e=f()(p.a.mark((function e(t,n){var a,r,c,i,o,l,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.rejectWithValue,r=n.getState,c=r(),!(i=c[wt].cache)[t.pathName]){e.next=4;break}return e.abrupt("return",Promise.resolve({articles:i[t.pathName],pathName:t.pathName,title:t.title,cached:!0}));case 4:return e.prev=4,e.next=7,w(t.path,t.params);case 7:return o=e.sent,l=g()(o,1),(u=l[0]).forEach((function(e){e.description=e.description||kt(e.content)})),e.abrupt("return",{articles:u,pathName:t.pathName,title:t.title,cached:!1});case 14:return e.prev=14,e.t0=e.catch(4),e.abrupt("return",a({pathName:t.pathName,title:t.title}));case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t,n){return e.apply(this,arguments)}}()),Lt=Object(v.c)({name:wt,initialState:{articles:[],pathName:"",title:"callcc.dev",cache:{},loading:j.Initial},reducers:{setLoading:function(e,t){var n=t.payload;e.loading=n||j.Initial}},extraReducers:function(e){e.addCase(xt.pending,(function(e){e.loading=j.Loading})),e.addCase(xt.rejected,(function(e,t){var n=t.payload;e.pathName=n.pathName,e.title="callcc.dev | "+n.title,e.loading=j.Error})),e.addCase(xt.fulfilled,(function(e,t){var n=t.payload;e.articles=n.articles,e.pathName=n.pathName,e.title="callcc.dev | "+n.title,n.cached||(e.cache[n.pathName]=e.articles),e.loading=j.Ok}))}}),Nt=Lt.reducer,Pt=function(e){return e.filterPage.articles},_t=function(e){return e.filterPage.pathName},St=function(e){return e.filterPage.loading},It=function(e){return e.filterPage.title},Tt=Lt.actions.setLoading,Dt=String.prototype.startsWith;function Ct(e,t){return Rt.apply(this,arguments)}function Rt(){return(Rt=f()(p.a.mark((function e(t,n){var a,r,c,i,o,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.pathName,r=n.name,n.req&&(c=n.req.path)&&(i=c.split("/"),a=c,r=i[2]),o="",l={category:void 0,tag:void 0},Dt.call(a,"/tag")?(o="/category_tag",l.tag=r):Dt.call(a,"/category")?(o="/category_tag",l.category=r):Dt.call(a,"/archive")&&(o="/date/"+r),e.abrupt("return",t.dispatch(xt({path:o,params:l,pathName:a,title:r})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function At(e){var t=Object(m.b)(Pt),n=Object(m.b)(_t),c=Object(m.b)(St),i=Object(m.b)(It),o=Object(m.c)(),l=e.location.pathname,u=e.match.params.name||"";return Object(a.useEffect)((function(){return document.title=i,function(){document.title="callcc.dev"}}),[i]),Object(a.useEffect)((function(){return function(){c===j.Error&&o.dispatch(Tt())}}),[o,c]),Object(a.useEffect)((function(){n!==l?c!==j.Loading&&Ct(o,{pathName:l,name:u}):c===j.Initial&&Ct(o,{pathName:l,name:u})}),[u,l,o,n,c]),r.a.createElement(q,{loading:c},r.a.createElement("div",null,t.map((function(e){return r.a.createElement(jt,Ot()({},e,{key:e.id}))}))))}var Bt=n("RIqP"),qt=n.n(Bt),Mt="homePage",Yt=Object(v.b)([Mt,"fetchHomePageList"].join("\n"),function(){var e=f()(p.a.mark((function e(t,n){var a,r,c,i,o,l,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.getState().homePage,r=a.home,c=r.page,i=r.size,e.next=4,t={page:c+1,size:i},Object(E.a)(k("/list"),t);case 4:return o=e.sent,l=g()(o,1),(u=l[0]).list.forEach((function(e){e.description=e.description||kt(e.content)})),e.abrupt("return",u);case 9:case"end":return e.stop()}var t}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ft=Object(v.c)({name:Mt,initialState:{home:{list:[],page:0,size:10,total:0},loading:j.Initial},reducers:{setLoading:function(e,t){var n=t.payload;e.loading=n||j.Initial}},extraReducers:function(e){L(e,Yt),e.addCase(Yt.fulfilled,(function(e,t){var n,a=t.payload;e.home.list=(n=e.home.list).concat.apply(n,qt()(a.list)),e.home.page=a.page,e.home.total=a.total,e.loading=j.Ok}))}}),Jt=function(e){var t=e.homePage.home;return{list:t.list,over:t.page*t.size>=t.total}},Ut=Ft.reducer,Zt=function(e){return e.homePage.loading},Ht=Ft.actions.setLoading,Kt=n("GgLZ");function Wt(e){return zt.apply(this,arguments)}function zt(){return(zt=f()(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.dispatch(Yt()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vt="tagPage",Gt=Object(v.b)([Vt,"fetchTags"].join("\n"),f()(p.a.mark((function e(){var t,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(E.a)("/api/v2/tag".concat("/all"),{});case 2:return t=e.sent,n=g()(t,1),a=n[0],e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))),Qt=Object(v.c)({name:Vt,initialState:{tags:[],loading:j.Initial},reducers:{setLoading:function(e,t){var n=t.payload;e.loading=n||j.Initial}},extraReducers:function(e){L(e,Gt),e.addCase(Gt.fulfilled,(function(e,t){var n=t.payload;(n.length||e.tags.length)&&(e.tags=n),e.loading=j.Ok}))}}),Xt=function(e){return e.tagPage.tags},$t=Qt.reducer,en=function(e){return e.tagPage.loading},tn=Qt.actions.setLoading;function nn(e){return an.apply(this,arguments)}function an(){return(an=f()(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.dispatch(Gt()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rn(e){return r.a.createElement(gt,{className:"cc-tag"},r.a.createElement(o.b,{to:{pathname:"/tag/"+e.tagName.replace("/","_")}},e.tagName))}var cn=function(e){return It(e.getState())},on=[{path:"/",exact:!0,component:function(){var e=Object(m.c)(),t=Object(m.b)(Jt),n=Object(m.b)(Zt);return Object(a.useEffect)((function(){return function(){n===j.Error&&e.dispatch(Ht())}}),[e,n]),Object(a.useEffect)((function(){t.list.length||n!==j.Initial||Wt(e)}),[e,t,n]),0===t.list.length&&n===j.Initial?r.a.createElement(q,{loading:n}):r.a.createElement(Kt.a,{dataLength:t.list.length,next:function(){t.over||Wt(e)},hasMore:!t.over,loader:r.a.createElement(q,{loading:n})},t.list.map((function(e){return r.a.createElement(jt,Ot()({},e,{key:e.id}))})))},fetcher:Wt,title:"callcc.dev"},{path:"/about",exact:!0,component:function(){var e=Object(m.c)(),t=Object(m.b)(T),n=Object(m.b)(D);return Object(a.useEffect)((function(){return document.title="callcc.dev | About",function(){document.title="callcc.dev"}}),[]),Object(a.useEffect)((function(){return function(){n===j.Error&&e.dispatch(C())}}),[e,n]),Object(a.useEffect)((function(){t.title||n!==j.Initial||Fe(e)}),[e,t,n]),r.a.createElement(q,{loading:n},r.a.createElement(Ye,{title:t.title,content:t.content,createTime:t.createTime,modifyTime:t.modifyTime}))},fetcher:Fe,title:"callcc.dev | About"},{path:"/archive",exact:!0,component:function(){var e=Object(m.b)(Ke),t=Object(m.c)(),n=Object(m.b)(ze);return Object(a.useEffect)((function(){return document.title="callcc.dev | Archive",function(){document.title="callcc.dev"}}),[]),Object(a.useEffect)((function(){return function(){n===j.Error&&t.dispatch(Ve())}}),[t,n]),Object(a.useEffect)((function(){e.length||n!==j.Initial||Ge(t)}),[t,e,n]),r.a.createElement(q,{loading:n},r.a.createElement("div",null,r.a.createElement("ul",{style:{listStyle:"none"}},e.map((function(e){return r.a.createElement("li",{key:e.year},r.a.createElement("h2",null,e.year),r.a.createElement("hr",null),(t=e.year,n=e.items,a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n.map((function(e){return r.a.createElement("div",{key:e.month,style:{margin:"5px",display:"inline-block"}},r.a.createElement(o.b,{to:{pathname:"/archive/"+t+e.month}},r.a.createElement("span",{style:{marginRight:"10px"}},a[parseInt(e.month)-1]," ","("+e.count+")")))}))));var t,n,a})))))},fetcher:Ge,title:"callcc.dev | Archive"},{path:"/categories",exact:!0,component:function(){var e=Object(m.c)(),t=Object(m.b)(dt),n=Object(m.b)(pt);return Object(a.useEffect)((function(){return document.title="callcc.dev | Categories",function(){document.title="callcc.dev"}}),[]),Object(a.useEffect)((function(){return function(){n===j.Error&&e.dispatch(ht())}}),[e,n]),Object(a.useEffect)((function(){t.length||n!==j.Initial||vt(e)}),[t,e,n]),r.a.createElement(q,{loading:n},r.a.createElement("div",null,t.map((function(e){return r.a.createElement(yt,{categoryName:e.categoryName,key:e.id})}))))},fetcher:vt,title:"callcc.dev | Categories"},{path:"/category/:name",exact:!0,component:At,fetcher:Ct,title:cn},{path:"/archive/:name",exact:!0,component:At,fetcher:Ct,title:cn},{path:"/tags",exact:!0,component:function(){var e=Object(m.c)(),t=Object(m.b)(Xt),n=Object(m.b)(en);return Object(a.useEffect)((function(){return document.title="callcc.dev | Tags",function(){document.title="callcc.dev"}}),[]),Object(a.useEffect)((function(){return function(){n===j.Error&&e.dispatch(tn())}}),[e,n]),Object(a.useEffect)((function(){t.length||n!==j.Initial||nn(e)}),[t,e,n]),r.a.createElement(q,{loading:n},r.a.createElement("div",null,t.map((function(e){return r.a.createElement(rn,{tagName:e.tagName,key:e.id})}))))},fetcher:nn,title:"callcc.dev | Tags"},{path:"/tag/:name",component:At,fetcher:Ct,title:cn},{path:"/:link",exact:!0,component:function(){var e=Object(m.c)(),t=Object(m.b)(rt),n=Object(m.b)(ct);return Object(a.useEffect)((function(){return document.title="callcc.dev | "+t.title,function(){document.title="callcc.dev"}}),[t]),Object(a.useEffect)((function(){return function(){n===j.Error&&e.dispatch(it())}}),[e,n]),Object(a.useEffect)((function(){var a=window.location.pathname;t.link!==a?n!==j.Loading&&ot(e,{link:a}):n===j.Initial&&ot(e,{link:a})}),[e,t,n]),r.a.createElement(q,{loading:n},r.a.createElement(Ye,{title:t.title,content:t.content,createTime:t.createTime,modifyTime:t.modifyTime,withLicense:!0}))},fetcher:ot,title:function(e){var t=e.getState().articlePage.article.title;return t?"callcc.dev | "+t:"callcc.dev"}}];function ln(){return r.a.createElement("h1",{style:{padding:"10px 6%",color:"var(--color-accent)",fontFamily:"Futura"}},r.a.createElement(o.b,{to:"/"},"callcc.dev"))}function un(){return r.a.createElement("footer",{className:"cc-footer"},r.a.createElement("h3",{style:{fontFamily:"Futura"}},r.a.createElement(o.b,{to:"/"},"Â© by Kim Chan(@nomyfan) 2016-",(new Date).getFullYear())))}var sn=Object(v.c)({name:"nav",initialState:{prevScrollY:"undefined"==typeof document?0:window.scrollY,hidden:!1},reducers:{computeHidden:function(e){if("undefined"!=typeof document){var t=window.scrollY;if(t===e.prevScrollY)return;t<35?e.hidden=!1:t>e.prevScrollY?e.hidden=!0:t<e.prevScrollY&&(e.hidden=!1),e.prevScrollY=t}}}}),fn=(sn.actions.computeHidden,sn.reducer);function dn(){if("undefined"!=typeof window){var e=window.__PRELOADED_STATE__;return delete window.__PRELOADED_STATE__,e?JSON.parse(decodeURIComponent(e)):void 0}}var pn,mn=Object(v.a)({reducer:(pn={},y()(pn,P,I),y()(pn,Ue,We),y()(pn,Vt,$t),y()(pn,ut,mt),y()(pn,Mt,Ut),y()(pn,et,at),y()(pn,wt,Nt),y()(pn,Se,Ce),y()(pn,"nav",fn),pn),preloadedState:dn(),devTools:!1});function hn(){return r.a.createElement(m.a,{store:mn},r.a.createElement(o.a,null,r.a.createElement("main",{className:"cc-container"},r.a.createElement(ln,null),r.a.createElement(l.c,null,Object(u.a)(on)),r.a.createElement(un,null))))}i.a.hydrate(r.a.createElement(hn,null),document.getElementById("root"))},"5ys/":function(e,t,n){"use strict";var a;function r(e,t,n){return{name:e,message:t,reason:n}}function c(e,t){return r(a.NotSuccessException,e,t)}function i(e,t){return r(a.RequestException,e,t)}n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i})),function(e){e.RequestException="RequestException",e.NotSuccessException="NotSuccessException"}(a||(a={}))},L1i9:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var a,r=n("yXPU"),c=n.n(r),i=n("o0o1"),o=n.n(i),l=(n("sMBO"),n("vDqi")),u=n.n(l),s=n("5ys/");void 0!==e&&"node"===(null===(a=e.release)||void 0===a?void 0:a.name)&&u.a.interceptors.request.use((function(e){var t=e.headers||{};return t.Origin="SSRWebServer",e.headers=t,e}));function f(e){return d.apply(this,arguments)}function d(){return(d=c()(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.baseURL="https://api.nokky.net",t.timeout=3e4,e.next=4,u()(t);case 4:if(200!==(n=e.sent).status){e.next=14;break}if(1e3!==(a=n.data).code){e.next=11;break}return e.abrupt("return",[a.data,a]);case 11:throw Object(s.a)(a.msg,a);case 12:e.next=15;break;case 14:throw Object(s.b)("Request failed",n.data);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t,n){return m.apply(this,arguments)}function m(){return(m=c()(o.a.mark((function e(t,n,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=a||{}).params=n,a.url=t,a.method="GET",e.next=6,f(a);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}).call(this,n("8oxB"))}},[["2YZa","runtime~main","vendors","vendors~polyfill","vendors~mark","vendors~store","vendors~request","vendors~syntax","vendors~render","vendors~lib"]]]);
//# sourceMappingURL=main.55b9b3de.js.map